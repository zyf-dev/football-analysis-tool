<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多联赛决策情报中心 V25.0 (巅峰实战版)</title>
    <style>
        :root {
            --primary-color: #1a2a45; --secondary-color: #005A9C; --accent-color: #2196F3;
            --bg-color: #f0f2f5; --card-bg-color: #ffffff; --text-color: #1a1a1a;
            --text-light-color: #6c757d; --border-color: #e8e8e8; --win-color: #4CAF50;
            --draw-color: #FFC107; --loss-color: #F44336; --team1-color: #4285F4; --team2-color: #DB4437;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: auto; }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { margin: 0; font-size: 28px; color: var(--primary-color); font-weight: 700; }
        .header p { margin: 5px 0 0; color: var(--text-light-color); font-size: 16px; }
        .match-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 25px; }
        .match-card { background: var(--card-bg-color); border-radius: 12px; box-shadow: 0 8px 30px rgba(0,0,0,0.08); overflow: hidden; display: flex; flex-direction: column; transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: pointer; }
        .match-card:hover { transform: translateY(-5px); box-shadow: 0 12px 40px rgba(0,0,0,0.12); }
        .card-header { padding: 12px 20px; font-size: 14px; color: var(--text-light-color); border-bottom: 1px solid var(--border-color); }
        .card-body { padding: 25px; flex-grow: 1; display: flex; align-items: center; justify-content: space-between; min-height: 80px; }
        .team { text-align: center; flex: 1; }
        .team-name { font-size: 20px; font-weight: 700; color: var(--text-color); letter-spacing: 0.5px; }
        .vs-separator { font-size: 20px; font-weight: 300; color: #ccc; padding: 0 10px; }
        .card-footer { background-color: #f9fafb; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; }
        .risk-display span { font-size: 12px; color: var(--text-light-color); }
        .risk-display .risk-value { font-size: 22px; font-weight: 700; }
        .risk-low { color: var(--win-color); } .risk-medium { color: var(--draw-color); } .risk-high { color: var(--loss-color); }
        .details-btn { background-color: var(--secondary-color); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; }
        .modal, .qr-modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); }
        .modal-content, .qr-modal-content { background-color: #fefefe; margin: 3% auto; padding: 25px; border: 1px solid #888; width: 90%; max-width: 800px; border-radius: 8px; box-shadow: 0 8px 24px rgba(0,0,0,0.2); animation: fadeIn 0.5s; }
        .qr-modal-content { max-width: 320px; text-align: center; padding-top: 35px; }
        @keyframes fadeIn { from {opacity: 0; transform: scale(0.95);} to {opacity: 1; transform: scale(1);} }
        .close-btn { color: #aaa; float: right; font-size: 28px; font-weight: bold; line-height: 1; cursor: pointer; }
        .modal-header { border-bottom: 1px solid #ddd; padding-bottom: 10px; margin-bottom: 20px; }
        .section-title { font-size: 18px; font-weight: bold; margin-top: 25px; margin-bottom: 15px; border-left: 4px solid var(--secondary-color); padding-left: 10px; }
        .verdict-summary { padding: 15px; border-radius: 8px; margin-bottom: 20px; border-width: 2px; border-style: solid; }
        .verdict-summary.value-signal { border-color: #4CAF50; background-color: #f0fff0; }
        .verdict-summary.high-risk { border-color: #F44336; background-color: #fff0f0; }
        .verdict-summary.no-signal { border-color: #FFC107; background-color: #fffff0; }
        .verdict-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;}
        .verdict-title { font-size: 16px; font-weight: 700; }
        .verdict-summary.value-signal .verdict-title { color: #2E7D32; }
        .verdict-summary.high-risk .verdict-title { color: #C62828; }
        .verdict-summary.no-signal .verdict-title { color: #FF8F00; }
        .verdict-confidence { font-size: 12px; font-weight: 600; color: #fff; padding: 3px 8px; border-radius: 12px; }
        .confidence-high { background-color: #D32F2F; } .confidence-medium { background-color: #F57C00; } .confidence-low { background-color: #757575; }
        .verdict-text { font-size: 14px; line-height: 1.6; }
        .grid-item { background: #f9f9f9; padding: 15px; border-radius: 6px; }
        .grid-item ol, .grid-item ul { padding-left: 20px; margin-top: 10px; margin-bottom: 10px; }
        .radar-chart-container { position: relative; width: 100%; max-width: 350px; margin: 20px auto; }
        .strategy-matrix-wrapper { overflow-x: auto; }
        .strategy-matrix table { width: 100%; border-collapse: collapse; }
        .strategy-matrix th, .strategy-matrix td { border: 1px solid #ddd; padding: 12px; text-align: center; font-size: 14px; }
        .strategy-matrix th { background-color: #f2f2f2; }
        .tendency-high { background-color: #E8F5E9; color: #1B5E20; font-weight: bold; }
        .tendency-mid { background-color: #FFFDE7; color: #F57F17; }
        .tendency-none { color: #757575; font-style: italic; }
        .annotation { background: #f8f9fa; border-left: 5px solid var(--accent-color); padding: 15px; margin-top: 25px; font-size: 13px; line-height: 1.6; border-radius: 4px; }
		.annotation h4 { margin: 0 0 10px; color: #1E88E5; }
        .annotation ul { padding-left: 20px; } .annotation p { margin-bottom: 10px; }
        .promo-footer { margin-top: 25px; padding: 15px; background-color: #2c3e50; color: white; text-align: center; border-radius: 8px; font-size: 16px; font-weight: 500; cursor: pointer; }
        .copy-button { background-color: var(--accent-color); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 15px; font-size: 14px; }
        .copy-feedback { color: var(--win-color); font-weight: bold; margin-top: 10px; display: none; }
        .disclaimer { text-align: center; padding: 20px 15px; font-size: 12px; color: var(--text-light-color); max-width: 800px; margin: 20px auto 0; line-height: 1.8; border-top: 1px solid #eee;}
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>多联赛决策情报中心 V25.0 (巅峰实战版)</h1>
        <p>基于实时API动态数据分析: 2025-08-02</p>
    </div>
    <div class="match-grid" id="match-grid-container">
        <!-- Match cards are dynamically inserted here -->
    </div>
    <div class="disclaimer">
        <strong>免责声明：</strong>本工具提供的所有数据、分析和预测仅供参考和娱乐，是基于历史数据和统计模型的运算结果，并不代表对未来赛果的任何保证。足球比赛充满不确定性，请用户独立思考、理性判断。本工具内容不构成任何形式的投资或投注建议，用户基于此信息做出的任何决策，后果自负。请勿将此工具用于任何非法用途。
    </div>
</div>

<div id="modal-container"></div>

<div id="qrModal" class="qr-modal">
    <div class="qr-modal-content">
        <span class="close-btn" onclick="closeQrModal()">×</span>
        <h3>关注我们 获取更多情报</h3>
        <p>长按或截图二维码，在微信中识别</p>
        <img src="https://i.mji.rip/2025/07/31/9435fe230c6ac52fc49896d56277e729.jpeg" alt="二维码" style="width: 200px; max-width: 100%;">
        <p>或</p>
        <button id="copyBtn" class="copy-button">一键复制公众号名称</button>
        <p id="copyFeedback" class="copy-feedback">已复制！</p>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const matchesData = [
        { id: 1, match_number: '周六002', league: '日职乙', date: '17:30', home: '甲府风林', away: '山形山神', verdict: '强烈信号：倾向主队', confidence: '中', verdict_class: 'value-signal', verdict_text: '基本面与市场动态达成一致。甲府风林在排名和往绩上稍占优势，而市场通过降低主胜赔率(2.35→2.26)和稳定支持-0.25盘口，确认了这一优势。', risk_index: 35, risk_class: 'risk-low', tactics: ['<b>基本面:</b> 甲府风林(排名第8) vs 山形山神(排名第12)，历史交锋主队略占优。基本面支持主队不败。', '<b>市场动态:</b> 欧赔主胜下降，亚盘稳定在-0.25低水。市场与基本面信号一致。'], conclusion: '结论：市场对主队的支持是真实有效的，主队不败是大概率事件，-0.25盘口值得关注。', radar: [[72, 70, 75, 78, 75], [70, 68, 70, 65, 65]], ref_wdl_tendency: '倾向主不败', ref_wdl_details: '主胜赔率下降是关键信号，主队不败是大概率事件。', ref_ah_tendency: '倾向 甲府风林 -0.25', ref_ah_details: '赔率下降与盘口稳定形成共振，看好主队赢下盘口。', ref_ou_tendency: '建议规避', ref_ou_details: '总进球数盘口稳定在2.25球，且赔率变化不大，未见明显资金流向。' },
        { id: 2, match_number: '周六003', league: '日职乙', date: '18:00', home: '千叶市原', away: '磐城FC', verdict: '谨慎信号：倾向主队', confidence: '低', verdict_class: 'no-signal', verdict_text: '基本面主队占优，市场动态也略微支持主队（欧赔2.20→2.15）。但亚盘始终未能从-0.25升级至-0.5，显示市场支持力度有限，并非强信号。', risk_index: 55, risk_class: 'risk-medium', tactics: ['<b>基本面:</b> 千叶市原(排名第7) vs 磐城FC(排名第11)，基本面主队占优。', '<b>市场动态:</b> 欧赔主胜微降，但亚盘支持力度不足，信号强度一般。'], conclusion: '结论：主队不败概率高，但市场对其净胜一球的能力有所保留，需警惕小胜或平局。', radar: [[78, 75, 72, 75, 80], [68, 70, 65, 65, 60]], ref_wdl_tendency: '建议规避', ref_wdl_details: '赔率变化微弱，方向性不强。', ref_ah_tendency: '建议规避', ref_ah_details: '亚盘支持力度不足，穿盘能力存疑。', ref_ou_tendency: '倾向大球', ref_ou_details: '总进球数盘口从2.25球升至2.5球，市场对进球数的预期在升高。' },
        { id: 3, match_number: '周六004', league: '日职乙', date: '18:00', home: '德岛漩涡', away: '爱媛FC', verdict: '谨慎信号：主队大热', confidence: '中', verdict_class: 'no-signal', verdict_text: '基本面主队优势巨大，市场动态也完全确认了这一点，亚盘从-0.75球一路升至-1球。但升盘后对主队要求极为苛刻，风险与回报不成正比。', risk_index: 60, risk_class: 'risk-medium', tactics: ['<b>基本面:</b> 德岛漩涡(排名第5) vs 爱媛FC(排名第16)，实力差距悬殊。', '<b>市场动态:</b> 市场通过升盘(-0.75→-1)表达了对主队的极强信心。'], conclusion: '结论：主队取胜是大概率事件，但-1的盘口下，净胜一球不算赢，投注风险很高。', radar: [[88, 85, 80, 90, 90], [60, 55, 60, 50, 50]], ref_wdl_tendency: '建议规避', ref_wdl_details: '主胜赔率过低(1.57)，无投资价值。', ref_ah_tendency: '建议规避', ref_ah_details: '盘口较深，即使主队取胜也未必能赢得盘口。', ref_ou_tendency: '倾向小球', ref_ou_details: '深盘之下，弱队往往全力防守，进球数可能低于市场预期。' },
        { id: 4, match_number: '周六005', league: '韩职', date: '18:00', home: '蔚山现代', away: '水原FC', verdict: '强烈信号：倾向主队', confidence: '高', verdict_class: 'value-signal', verdict_text: '基本面与市场动态完美共振。蔚山现代在基本面拥有压倒性优势，而市场动态也从之前的疑虑转为强力支持：欧赔主胜从1.80大幅压低至1.65，亚盘也从-0.5球升级至-0.75球。', risk_index: 25, risk_class: 'risk-low', tactics: ['<b>基本面:</b> 蔚山现代(排名第1) vs 水原FC(排名第9)，历史交锋6胜1平0负，基本面呈碾压态势。', '<b>市场动态:</b> <span style="font-weight:bold;">与此前分析完全反转！</span>市场信心回归，欧亚盘均强力支持主队，形成共振。'], conclusion: '结论：市场对蔚山现代的支持是真实且强力的资金推动。之前的陷阱信号已被证伪，当前所有信号均强烈指向主队取胜。', radar: [[90, 85, 80, 85, 88], [60, 50, 70, 60, 55]], ref_wdl_tendency: '倾向主胜', ref_wdl_details: '欧赔主胜大幅下降是市场最直接的信号，主胜是大概率事件。', ref_ah_tendency: '倾向 蔚山现代 -0.75', ref_ah_details: '亚盘升级且赔率稳定，看好主队赢下盘口。', ref_ou_tendency: '倾向大球', ref_ou_details: '总进球数盘口稳定在2.75球，且大球赔率持续下降，市场对进球数的预期较高。' }
    ];
    
    const annotationHTML = `<div class="annotation"><h4>我们的分析方法论</h4><p>本分析报告的核心在于**交叉验证**。我们结合两大独立信息源进行决策，以求达到最接近事实的判断。</p><ul><li><strong>基本面分析 (理论实力):</strong> 我们通过API获取球队排名、历史交锋(H2H)等客观数据，建立一个“基准实力判断”。</li><li><strong>市场动态分析 (真实意图):</strong> 我们通过API追踪初盘到即时的赔率和盘口变化，洞察市场资金的真实流向。</li></ul><p><strong>方法论核心:</strong> 当“理论”与“真实”同向而行，是为强烈信号。当两者背道而驰，则预示着陷阱或巨大的价值。我们的工具旨在为您揭示这一切。</p></div>`;

    document.addEventListener('DOMContentLoaded', () => {
        const gridContainer = document.getElementById('match-grid-container');
        const modalContainer = document.getElementById('modal-container');

        matchesData.forEach(match => {
            const card = document.createElement('div');
            card.className = 'match-card';
            card.onclick = () => openModal(`modal${match.id}`);
            card.innerHTML = `
                <div class="card-header">${match.match_number} | ${match.league} | ${match.date}</div>
                <div class="card-body">
                    <div class="team"><p class="team-name">${match.home}</p></div>
                    <span class="vs-separator">vs</span>
                    <div class="team"><p class="team-name">${match.away}</p></div>
                </div>
                <div class="card-footer">
                    <div class="risk-display"><span>风险探测指数</span><p class="risk-value ${match.risk_class}">${match.risk_index}</p></div>
                    <button class="details-btn">深度解析</button>
                </div>`;
            gridContainer.appendChild(card);

            const modal = document.createElement('div');
            modal.id = `modal${match.id}`;
            modal.className = 'modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <span class="close-btn" onclick="closeModal('modal${match.id}')">×</span>
                    <div class="modal-header"><h2>${match.home} vs ${match.away}</h2></div>
                    <div class="verdict-summary ${match.verdict_class}">
                        <div class="verdict-header">
                            <span class="verdict-title">策略研判：${match.verdict}</span>
                            <span class="verdict-confidence confidence-medium">信心指数: ${match.confidence}</span>
                        </div>
                        <div class="verdict-text">${match.verdict_text}</div>
                    </div>
                    <div class="section-title">基本面 vs. 市场动态</div>
                    <div class="grid-item"><ul>${match.tactics.map(tactic => `<li>${tactic}</li>`).join('')}</ul></div>
                    <div class="section-title">最终分析结论</div>
                    <div class="grid-item"><p>${match.conclusion}</p></div>
                    <div class="section-title">球队DNA雷达图</div>
                    <div class="radar-chart-container"><canvas id="radarChart${match.id}"></canvas></div>
                    <div class="section-title">玩法倾向性参考</div>
                    <div class="strategy-matrix-wrapper">
                        <table class="strategy-matrix">
                        <thead><tr><th>玩法参考</th><th>倾向性建议</th><th>逻辑解读</th></tr></thead>
                            <tbody>
                                <tr><td>胜平负</td><td class="${match.ref_wdl_tendency === '建议规避' ? 'tendency-none' : 'tendency-mid'}">${match.ref_wdl_tendency}</td><td>${match.ref_wdl_details}</td></tr>
                                <tr><td>让球</td><td class="${match.ref_ah_tendency === '建议规避' ? 'tendency-none' : 'tendency-high'}">${match.ref_ah_tendency}</td><td>${match.ref_ah_details}</td></tr>
                                <tr><td>总进球数</td><td class="${match.ref_ou_tendency === '建议规避' ? 'tendency-none' : 'tendency-mid'}">${match.ref_ou_tendency}</td><td>${match.ref_ou_details}</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="annotation-container-${match.id}"></div>
                    <div class="promo-footer" onclick="openQrModal()">更多比赛关注公众号 金球大树</div>
                    <div class="disclaimer"><strong>免责声明：</strong>所有内容仅供参考娱乐，不构成任何建议。</div>
                </div>`;
            modalContainer.appendChild(modal);
        });
        
        document.querySelectorAll('[class^="annotation-container-"]').forEach(el => {
            el.innerHTML = annotationHTML;
        });
    });

    function openModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.style.display = 'block';
            const chartId = modalId.replace('modal', 'radarChart');
            const dataIndex = matchesData.findIndex(m => `modal${m.id}` === modalId);
             setTimeout(() => {
                if (dataIndex !== -1 && !Chart.getChart(chartId)) {
                    createRadarChart(chartId, dataIndex);
                }
            }, 50);
        }
    }

    function closeModal(modalId) { 
        const modal = document.getElementById(modalId);
        if (modal) modal.style.display = 'none';
    }

    const qrModal = document.getElementById('qrModal');
    function openQrModal() { if (qrModal) qrModal.style.display = 'block'; }
    function closeQrModal() { if (qrModal) qrModal.style.display = 'none'; }
    
    const copyBtn = document.getElementById('copyBtn');
    if(copyBtn) {
        copyBtn.addEventListener('click', () => {
            navigator.clipboard.writeText("金球大樹").then(() => {
                const el = document.getElementById('copyFeedback');
                if(el) { el.style.display = 'block'; setTimeout(() => { el.style.display = 'none'; }, 2000); }
            });
        });
    }

    window.onclick = function(event) {
        if (event.target.classList.contains('modal')) event.target.style.display = 'none';
        if (event.target.classList.contains('qr-modal')) closeQrModal();
    }

    function createRadarChart(canvasId, dataIndex) {
        const ctx = document.getElementById(canvasId).getContext('2d');
        const match = matchesData[dataIndex];
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['进攻(xG)', '防守(xGA)', '近期状态', '市场支持', '历史交锋'],
                datasets: [
                    { label: match.home, data: match.radar[0], backgroundColor: 'rgba(66, 133, 244, 0.2)', borderColor: 'rgba(66, 133, 244, 1)', borderWidth: 2 },
                    { label: match.away, data: match.radar[1], backgroundColor: 'rgba(219, 68, 55, 0.2)', borderColor: 'rgba(219, 68, 55, 1)', borderWidth: 2 }
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: true,
                plugins: { legend: { position: 'top' } },
                scales: { r: { suggestedMin: 40, suggestedMax: 100, pointLabels: { font: { size: 13 } } } }
            }
        });
    }
</script>
</body>
</html>
